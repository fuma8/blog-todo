{"ast":null,"code":"var _jsxFileName = \"/Users/fuma/blog-todo/client/src/components/todo/Todo.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport \"./todo.css\";\nimport { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Todo = () => {\n  _s();\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    fetch(\"/api/thread\", {\n      method: 'GET'\n    }).then(response => response.json()).then(data => {\n      setTodos(data);\n    });\n  }, []);\n  const titleRef = useRef();\n  const contentRef = useRef();\n  const handleTodo = async e => {\n    e.preventDefault();\n    const titleValue = titleRef.current.value;\n    const contentValue = contentRef.current.value;\n    setTodos(todos => {\n      return [...todos, {\n        title: titleValue,\n        content: contentValue\n      }];\n    });\n    try {\n      let res = await fetch(\"/api/thread/createThread\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: titleValue,\n          content: contentValue\n        })\n      });\n      let resJson = await res.json();\n      if (res.status === 200) {\n        console.log(\"User can register new todo.\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    titleRef.current.value = null;\n    contentRef.current.value = null;\n  };\n  const handleTodoDelete = async (index, id) => {\n    const currentTodos = [...todos];\n    try {\n      let res = await fetch(`/api/thread/deleteThread/${id}`, {\n        method: \"delete\"\n      }).then(response => response.json()).then(currentTodos.splice(index, 1));\n      if (res.status === 200) {\n        console.log(\"User can delete todo.\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    setTodos(currentTodos);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [todos.map((todo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Thread-secton\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [index + 1, \"\\xA0\", todo.title]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: todo.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-item\",\n        onClick: () => handleTodoDelete(index, todo._id),\n        children: \"Delete\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"title, \",\n        type: \"text\",\n        placeholder: \"Title\",\n        ref: titleRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"content\",\n        rows: \"10\",\n        cols: \"30\",\n        ref: contentRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"submitButton\",\n        type: \"submit\",\n        onClick: handleTodo,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Todo, \"ja7nCLimlYgz1DX4SHPy/p/svIA=\");\n_c = Todo;\nexport default Todo;\nvar _c;\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Todo","_s","todos","setTodos","fetch","method","then","response","json","data","titleRef","contentRef","handleTodo","e","preventDefault","titleValue","current","value","contentValue","title","content","res","headers","body","JSON","stringify","resJson","status","console","log","err","handleTodoDelete","index","id","currentTodos","splice","className","children","map","todo","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_id","type","placeholder","ref","rows","cols","_c","$RefreshReg$"],"sources":["/Users/fuma/blog-todo/client/src/components/todo/Todo.jsx"],"sourcesContent":["import React from 'react'\nimport \"./todo.css\"\nimport { useState, useEffect, useRef } from 'react'\n\n\nconst Todo = () => {\n  const [todos, setTodos] = useState([])\n  useEffect(() => {\n    fetch(\"/api/thread\", {method: 'GET'}).then(\n      response => response.json()\n    ).then(\n      data => {\n        setTodos(data)\n      }\n    )\n  }, [])\n\n  const titleRef = useRef()\n  const contentRef = useRef()\n\n\n  const handleTodo = async(e) => {\n    e.preventDefault()\n    const titleValue = titleRef.current.value\n    const contentValue = contentRef.current.value\n    setTodos((todos) => {\n      return [...todos, {title:titleValue, content:contentValue}]\n    })\n    try{\n      let res = await fetch(\"/api/thread/createThread\", {\n        method: \"POST\",\n        headers: {\n                   'Content-Type': 'application/json'\n                 },\n        body: JSON.stringify({\n          title: titleValue,\n          content: contentValue\n        })\n      })\n      let resJson = await res.json()\n      if (res.status ===200) {\n        console.log(\"User can register new todo.\")\n      }\n    }catch(err){\n      console.log(err)\n    }\n    titleRef.current.value = null\n    contentRef.current.value = null\n  }\n\n  const handleTodoDelete = async(index, id) => {\n    const currentTodos = [...todos]\n    try{\n      let res = await fetch(`/api/thread/deleteThread/${id}`, {\n        method: \"delete\"\n      }).then(\n        response => response.json()\n      ).then(\n        currentTodos.splice(index, 1)\n      )\n      if (res.status === 200) {\n        console.log(\"User can delete todo.\")\n      }\n    }catch(err){\n      console.log(err)\n    }\n    setTodos(currentTodos)\n  }\n\n  return (\n    <div className=\"App\">\n        {\n            todos.map((todo, index) => \n            <div className=\"Thread-secton\">\n              <h3 key={index}>{index+1}&nbsp;{todo.title}</h3>\n              <p key={index}>{todo.content}</p>\n              {/* <button className='update-item'>Update</button> */}\n              <button className='delete-item' key={index} onClick={() => handleTodoDelete(index, todo._id)}>Delete</button>\n            </div>\n            )\n        }\n      <form className=\"form-section\">\n         <p>Title</p>\n         <input id = \"title, \"type=\"text\" placeholder=\"Title\" ref={titleRef}/>\n         <p>Content</p>\n         <textarea id=\"content\" rows=\"10\" cols=\"30\" ref={contentRef}></textarea>\n         <br />\n         <button id=\"submitButton\" type=\"submit\" onClick={handleTodo}>Send</button>\n       </form>\n    </div>\n  )\n}\n\n\nexport default Todo\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}